<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>API reference &mdash; oups latest documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="ParquetSet" href="parquetset.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> oups
          </a>
              <div class="version">
                latest
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="purpose.html">Why <em>oups</em>?</a></li>
<li class="toctree-l1"><a class="reference internal" href="indexing.html">Collection indexing</a></li>
<li class="toctree-l1"><a class="reference internal" href="parquetset.html"><code class="docutils literal notranslate"><span class="pre">ParquetSet</span></code></a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">oups</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>API reference</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/api.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="api-reference">
<h1>API reference<a class="headerlink" href="#api-reference" title="Permalink to this heading"></a></h1>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">toplevel</span></code>([index_class, fields_sep])</p></td>
<td><p>Turn decorated class into an indexing schema.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">sublevel</span></code>(index_class)</p></td>
<td><p>Define a subdirectory level.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">ParquetSet</span></code>(basepath, indexer)</p></td>
<td><p>Sorted list of keys (indexes to parquet datasets).</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">ParquetSet.__setitem__</span></code>(key, data)</p></td>
<td><p>Write <code class="docutils literal notranslate"><span class="pre">data</span></code> to disk, at location defined by <code class="docutils literal notranslate"><span class="pre">key</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">ParquetSet.__getitem__</span></code>(key)</p></td>
<td><p>Return the <code class="docutils literal notranslate"><span class="pre">ParquetHandle</span></code> instance corresponding to <code class="docutils literal notranslate"><span class="pre">key</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">oups.router.ParquetHandle.pf</span></code></p></td>
<td><p>Return handle to data through a parquet file.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">oups.router.ParquetHandle.pdf</span></code></p></td>
<td><p>Return data as a pandas dataframe.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">oups.router.ParquetHandle.vdf</span></code></p></td>
<td><p>Return handle to data through a vaex dataframe.</p></td>
</tr>
</tbody>
</table>
<dl class="py function">
<dt class="sig sig-object py" id="oups.indexer.toplevel">
<span class="sig-name descname"><span class="pre">toplevel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fields_sep</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'-'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#oups.indexer.toplevel" title="Permalink to this definition"></a></dt>
<dd><p>Turn decorated class into an indexing schema.</p>
<p>Decorated class is equipped with methods and attributes to use with a
<code class="docutils literal notranslate"><span class="pre">ParquetSet</span></code> instance.
It has to be defined as one would define a class decorated by <code class="docutils literal notranslate"><span class="pre">&#64;dataclass</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fields_sep</strong> (<em>str</em><em>, </em><em>default '.'</em>) – Character to use as separator between fields of the dataclass.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>Decorated class.</em></p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="oups.indexer.fields_sep">
<span class="sig-name descname"><span class="pre">fields_sep</span></span><a class="headerlink" href="#oups.indexer.fields_sep" title="Permalink to this definition"></a></dt>
<dd><p>Fields separator (can’t assign).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="oups.indexer.depth">
<span class="sig-name descname"><span class="pre">depth</span></span><a class="headerlink" href="#oups.indexer.depth" title="Permalink to this definition"></a></dt>
<dd><p>Number of levels, including ‘toplevel’ (can’t assign).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Notes</p>
<p><code class="docutils literal notranslate"><span class="pre">&#64;dataclass</span></code> is actually called when decorating with <code class="docutils literal notranslate"><span class="pre">&#64;toplevel</span></code> with
parameters set to:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">order=True</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">frozen=True</span></code></p></li>
</ul>
</div></blockquote>
<p>When class is instantiated, a validation step is conducted on attributes
types and values.</p>
<blockquote>
<div><ul class="simple">
<li><p>An instance can only be composed with <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">str</span></code> or a dataclass
object coming in last position;</p></li>
<li><p>Value of attribute can not incorporate forbidden characters like <code class="docutils literal notranslate"><span class="pre">/</span></code>
and <code class="docutils literal notranslate"><span class="pre">self.fields_sep</span></code>.</p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="oups.indexer.sublevel">
<span class="sig-name descname"><span class="pre">sublevel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index_class</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#oups.indexer.sublevel" title="Permalink to this definition"></a></dt>
<dd><p>Define a subdirectory level.</p>
<p>This decorator really is an alias of <code class="docutils literal notranslate"><span class="pre">&#64;dataclass</span></code> decorator, with
parameters set to:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">order=True</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">frozen=True</span></code></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="oups.collection.ParquetSet">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ParquetSet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">basepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indexer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><span class="pre">dataclass</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#oups.collection.ParquetSet" title="Permalink to this definition"></a></dt>
<dd><p>Sorted list of keys (indexes to parquet datasets).</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="oups.collection.ParquetSet.basepath">
<span class="sig-name descname"><span class="pre">basepath</span></span><a class="headerlink" href="#oups.collection.ParquetSet.basepath" title="Permalink to this definition"></a></dt>
<dd><p>Directory path to the set of parquet datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="oups.collection.ParquetSet.indexer">
<span class="sig-name descname"><span class="pre">indexer</span></span><a class="headerlink" href="#oups.collection.ParquetSet.indexer" title="Permalink to this definition"></a></dt>
<dd><p>Indexer schema (class) to be used to index parquet datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Type[dataclass]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="oups.collection.ParquetSet.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><a class="headerlink" href="#oups.collection.ParquetSet.keys" title="Permalink to this definition"></a></dt>
<dd><p>Set of indexes of existing parquet datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>SortedSet</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Notes</p>
<p><code class="docutils literal notranslate"><span class="pre">SortedSet</span></code> is the data structure retained for <code class="docutils literal notranslate"><span class="pre">keys</span></code> instead of
<code class="docutils literal notranslate"><span class="pre">SortedList</span></code> as its <code class="docutils literal notranslate"><span class="pre">__contains__</span></code> appears faster.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="oups.writer.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dirpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">pandas.DataFrame</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">vaex.dataframe.DataFrame</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_row_group_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compression</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'SNAPPY'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmidx_expand</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmidx_levels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ordered_on</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duplicates_on</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_nirgs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#oups.writer.write" title="Permalink to this definition"></a></dt>
<dd><p>Write data to disk at location specified by path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dirpath</strong> (<em>str</em>) – Directory where writing pandas dataframe.</p></li>
<li><p><strong>data</strong> (<em>Union</em><em>[</em><em>pDataFrame</em><em>, </em><em>vDataFrame</em><em>]</em>) – Data to write.</p></li>
<li><p><strong>max_row_group_size</strong> (<em>int</em><em>, </em><em>optional</em>) – Max row group size. If not set, default to <code class="docutils literal notranslate"><span class="pre">6_345_000</span></code>, which for a
dataframe with 6 columns of <code class="docutils literal notranslate"><span class="pre">float64</span></code> or <code class="docutils literal notranslate"><span class="pre">int64</span></code> results in a
memory footprint (RAM) of about 290MB.</p></li>
<li><p><strong>compression</strong> (<em>str</em><em>, </em><em>default SNAPPY</em>) – Algorithm to use for compressing data. This parameter is fastparquet
specific. Please see fastparquet documentation for more information.</p></li>
<li><p><strong>cmidx_expand</strong> (<em>bool</em><em>, </em><em>default False</em>) – If <cite>True</cite>, expand column index into a column multi-index.
This parameter is only used at creation of the dataset. Once column
names are set, they cannot be modified by use of this parameter.</p></li>
<li><p><strong>cmidx_levels</strong> (<em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Names of levels to be used when expanding column names into a
multi-index. If not provided, levels are given names ‘l1’, ‘l2’, …</p></li>
<li><p><strong>ordered_on</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Tuple</em><em>[</em><em>str</em><em>]</em><em>] </em><em>optional</em>) – <p>Name of the column with respect to which dataset is in ascending order.
If column multi-index, name of the column is a tuple.
This parameter is optional, and required so that data overlaps between
new data and existing recorded row groups can be identified.
This parameter is compulsory when <code class="docutils literal notranslate"><span class="pre">duplicates_on</span></code> is used.
If not set, default to <code class="docutils literal notranslate"><span class="pre">None</span></code>.
It has two effects:</p>
<blockquote>
<div><ul>
<li><p>it allows knowing ‘where’ to insert new data into existing data,
i.e. completing or correcting past records (but it does not allow
to remove prior data).</p></li>
<li><p>it ensures that two consecutive row groups do not have duplicate
values in column defined by <code class="docutils literal notranslate"><span class="pre">ordered_on</span></code> (only in row groups to
be written). This implies that all possible duplicates in
<code class="docutils literal notranslate"><span class="pre">ordered_on</span></code> column will lie in the same row group.</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>duplicates_on</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>List</em><em>[</em><em>Tuple</em><em>[</em><em>str</em><em>]</em><em>]</em><em>]</em><em>, </em><em>optional</em>) – Column names according which ‘row duplicates’ can be identified (i.e.
rows sharing same values on these specific columns) so as to drop
them. Duplicates are only identified in new data, and existing
recorded row groups that overlap with new data.
If duplicates are dropped, only last is kept.
To identify row duplicates using all columns, empty list <code class="docutils literal notranslate"><span class="pre">[]</span></code> can be
used instead of all columns names.
If not set, default to <code class="docutils literal notranslate"><span class="pre">None</span></code>, meaning no row is dropped.</p></li>
<li><p><strong>max_nirgs</strong> (<em>int</em><em>, </em><em>optional</em>) – <p>Max expected number of ‘incomplete’ row groups. A ‘complete’ row group
is one which size is ‘close to’ <code class="docutils literal notranslate"><span class="pre">max_row_group_size</span></code> (&gt;=90%).
To evaluate number of ‘incomplete’ row groups, only those at the end of
an existing dataset are accounted for. ‘Incomplete’ row groups in the
middle of ‘complete’ row groups are not accounted for (they can be
created by insertion of new data ‘in the middle’ of existing data).
If not set, default to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<blockquote>
<div><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code> value induces no coalescing of row groups. If there is no
drop of duplicates, new data is systematically appended.</p></li>
<li><p>A value of <code class="docutils literal notranslate"><span class="pre">0</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code> means that new data should systematically
be merged to the last existing one to ‘complete’ it (if it is not
‘complete’ already).</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>metadata</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Key-value metadata to write, or update in dataset. Please see
fastparquet for updating logic in case of <cite>None</cite> value being used.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>When writing a dataframe with this function,</p>
<ul>
<li><p>index of dataframe is not written to disk.</p></li>
<li><p>parquet file scheme is ‘hive’ (one row group per parquet file).</p></li>
</ul>
</li>
<li><p>Coalescing incomplete row groups is triggered depending 2 conditions,
either actual number of incomplete row groups is larger than <code class="docutils literal notranslate"><span class="pre">max_nirgs</span></code>
or number of rows for all incomplete row groups (at the end of the
dataset) is enough to make a new complete row group (reaches
<code class="docutils literal notranslate"><span class="pre">max_row_group_size</span></code>). This latter assessment is however only triggered
if <code class="docutils literal notranslate"><span class="pre">max_nirgs</span></code> is set. Otherwise, new data is simply appended, without
prior check.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">duplicates_on</span></code> is set, duplicate search is made row group to be
written per row group to be written. A <cite>row group to be written</cite> is made
from the merge between new data, and existing recorded row groups which
overlap. For this reason <code class="docutils literal notranslate"><span class="pre">ordered_on</span></code> parameter is compulsory when
using <code class="docutils literal notranslate"><span class="pre">duplicates_on</span></code>, so as to be able to position new data with
respect to existing row groups and also to cluster this data (new and
overlapping recorded) into row group which have distinct values in
<code class="docutils literal notranslate"><span class="pre">ordered_on</span></code> column. If 2 rows are duplicates according values in
indicated columns but are not in the same row group, first duplicates
will not be dropped.</p></li>
<li><p>As per logic of previous comment, duplicates need to be gathered by
row group to be identified, they need consequently to share the same
<cite>index</cite>, defined by the value in <code class="docutils literal notranslate"><span class="pre">ordered_on</span></code>. Extending this logic,
<code class="docutils literal notranslate"><span class="pre">ordered_on</span></code> is added to <code class="docutils literal notranslate"><span class="pre">duplicates_on</span></code> if not already part of it.</p></li>
<li><p>For simple data appending, i.e. without need to check where to insert
data and without need to drop duplicates, it is advised to keep
<code class="docutils literal notranslate"><span class="pre">ordered_on</span></code> and <code class="docutils literal notranslate"><span class="pre">duplicates_on</span></code> parameters set to <code class="docutils literal notranslate"><span class="pre">None</span></code> as these
parameters will trigger unnecessary evaluations.</p></li>
</ul>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="parquetset.html" class="btn btn-neutral float-left" title="ParquetSet" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Yohplala.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>